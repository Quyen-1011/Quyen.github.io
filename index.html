from PIL import Image, ImageDraw, ImageFont
import os

# --- C·∫•u h√¨nh c∆° b·∫£n ---
ASSETS_DIR = 'assets'  # Th∆∞ m·ª•c ch·ª©a font v√† logo
OUTPUT_FILE = 'thiep_moi.png'  # T√™n file xu·∫•t ra

# --- T·∫°o n·ªÅn thi·ªáp ---
img = Image.new('RGB', (900, 600), color=(247, 242, 233))  # m√†u be sang tr·ªçng
draw = ImageDraw.Draw(img)

# --- Vi·ªÅn thi·ªáp ---
draw.rectangle([(40, 40), (860, 560)], outline=(120, 100, 80), width=3)

# --- N·∫°p font ---
# ƒê·∫£m b·∫£o b·∫°n c√≥ file font.ttf trong th∆∞ m·ª•c assets (v√≠ d·ª• PlayfairDisplay-VariableFont_wght.ttf)
font_title = ImageFont.truetype(os.path.join(ASSETS_DIR, 'font.ttf'), 56)
font_body = ImageFont.truetype(os.path.join(ASSETS_DIR, 'font.ttf'), 28)
font_signature = ImageFont.truetype(os.path.join(ASSETS_DIR, 'font.ttf'), 30)

# --- N·ªôi dung thi·ªáp ---
title_text = "THI·ªÜP M·ªúI TH√ÇN M·∫¨T"
body_text = (
    "Tr√¢n tr·ªçng k√≠nh m·ªùi Qu√Ω kh√°ch ƒë·∫øn tham d·ª± bu·ªïi g·∫∑p g·ª° th√¢n m·∫≠t.\n\n"
    "‚è∞ Th·ªùi gian: 19h00, Th·ª© B·∫£y ng√†y 26 th√°ng 10 nƒÉm 2025\n"
    "üìç ƒê·ªãa ƒëi·ªÉm: Nh√† H√†ng √Ånh D∆∞∆°ng, 25 Nguy·ªÖn VƒÉn Linh, TP. ƒê√† N·∫µng\n\n"
    "R·∫•t mong ƒë∆∞·ª£c ƒë√≥n ti·∫øp Qu√Ω kh√°ch trong kh√¥ng kh√≠ ·∫•m c√∫ng v√† vui v·∫ª."
)
signature_text = "Th√¢n m·ªùi,\nBan T·ªï Ch·ª©c"

# --- CƒÉn gi·ªØa ti√™u ƒë·ªÅ ---
W, H = img.size
tw, th = draw.textsize(title_text, font=font_title)
draw.text(((W - tw) / 2, 90), title_text, fill=(80, 60, 40), font=font_title)

# --- Th√¢n b√†i ---
draw.multiline_text((120, 220), body_text, fill=(90, 70, 50), font=font_body, spacing=10)

# --- Ch·ªØ k√Ω ---
draw.multiline_text((W - 300, H - 140), signature_text, fill=(110, 85, 60), font=font_signature, spacing=8)

# --- Logo (n·∫øu c√≥) ---
logo_path = os.path.join(ASSETS_DIR, 'logo.png')
if os.path.exists(logo_path):
    logo = Image.open(logo_path).resize((80, 80))
    img.paste(logo, (70, 450))

# --- Xu·∫•t thi·ªáp ---
img.save(OUTPUT_FILE)
print(f"‚úÖ Thi·ªáp m·ªùi ƒë√£ ƒë∆∞·ª£c t·∫°o: {OUTPUT_FILE}")
